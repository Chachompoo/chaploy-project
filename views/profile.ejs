<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Profile - Chaploy</title>
  <link rel="stylesheet" href="/stylesheets/navbar.css">
  <link rel="stylesheet" href="/stylesheets/profile.css">
</head>

<body class="profile-page">
  <%- include('./partials/navbar') %>

  <div class="profile-wrapper">
    <div class="profile-header">
      <h1 class="profile-title">My Profile</h1>
      <p class="profile-subtitle">Manage your personal information and security settings</p>
    </div>

    <!-- ðŸŸ¢ Personal Info -->
    <section class="profile-section">
      <h2 class="profile-section-title">Personal Info</h2>
      <form action="/profile/update" method="POST" class="profile-form">
        <div class="profile-form-group">
          <label>First Name</label>
          <input type="text" name="firstname" value="<%= user.firstname %>" required>
        </div>

        <div class="profile-form-group">
          <label>Last Name</label>
          <input type="text" name="lastname" value="<%= user.lastname %>" required>
        </div>

        <div class="profile-form-group">
          <label>Email</label>
          <input type="email" name="email" value="<%= user.email %>" disabled>
        </div>

        <div class="profile-form-group">
          <label>Phone</label>
          <input type="text" name="phone" value="<%= user.phone || '' %>" maxlength="10" pattern="[0-9]{10}" required>
        </div>

        <button type="submit" class="profile-btn profile-btn-save">Save Changes</button>
      </form>
    </section>

    <hr class="profile-divider">

    <!-- ðŸŸ¡ Change Password -->
    <section class="profile-section">
      <h2 class="profile-section-title">Change Password</h2>
      <form action="/profile/password" method="POST" class="profile-form">
        <div class="profile-form-group">
          <label>Current Password</label>
          <input type="password" name="currentPassword" required>
        </div>

        <div class="profile-form-group">
          <label>New Password</label>
          <input type="password" name="newPassword" required>
        </div>

        <div class="profile-form-group">
          <label>Confirm New Password</label>
          <input type="password" name="confirmPassword" required>
        </div>

        <button type="submit" class="profile-btn profile-btn-password">Update Password</button>
      </form>
    </section>
  </div>
</body>
</html>
